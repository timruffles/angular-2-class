
    <!doctype html>
    <head>
      <link rel=stylesheet href="../app/node_modules/foundation-sites/dist/foundation.min.css">
      <link rel=stylesheet href="./style.css">
    </head>
    <body>
      <h1 id="forms">Forms</h1>
<p>We want to accept payment using Angular&#39;s form system.</p>
<h2 id="steps">Steps</h2>
<ol>
<li>We want to create a <code>Checkout</code> component<ol>
<li>Copy across the <code>pre-written/Checkout.component.html</code> to the app folder</li>
</ol>
</li>
</ol>
<h3 id="creating-checkout-route">Creating checkout route</h3>
<ol>
<li>First let&#39;s create a route that loads the <code>Checkout</code> component<ol>
<li>You know how to do this :)</li>
</ol>
</li>
</ol>
<h3 id="choosing-correct-forms-module">Choosing correct forms module</h3>
<ol>
<li>In <code>main.ts</code>, we need to ensure we&#39;ve deprecated the old forms, and enabled the new<ol>
<li>this is temporary - in future versions will be auto</li>
<li>forms are part of <code>PLATFORM_DIRECTIVES</code>, so you won&#39;t need to import</li>
</ol>
</li>
</ol>
<pre><code class="lang-typescript">import {disableDeprecatedForms, provideForms} from &#39;@angular/forms&#39;;

bootstrap(App, [
  // ...
  disableDeprecatedForms(),
  provideForms(),
  // ...
]);
</code></pre>
<h3 id="connecting-a-form-to-angular">Connecting a form to Angular</h3>
<ol>
<li>In the <code>Checkout</code> component, we want to create our form<ol>
<li>I&#39;ve written the HTML for you as HTML is not what we&#39;re here to learn</li>
<li>It&#39;s your job to wire it up with Angular, with one-way binding<ol>
<li>You&#39;ll want to use <code>ngModel</code> - check out its docs if you can&#39;t remember</li>
<li>We don&#39;t want 2 way binding</li>
</ol>
</li>
</ol>
</li>
<li>We want to ensure the data we create is valid<ol>
<li>Ensure all the fields are <code>required</code> - apart from the captcha</li>
<li>Disable the checkout button until the form is valid</li>
</ol>
</li>
<li>To get an initial <code>true</code> value to the Captcha, we need to provide a value ot <code>ngModel</code><ol>
<li>pass a value to <code>[ngModel]=</code></li>
</ol>
</li>
</ol>
<h3 id="displaying-errors">Displaying errors</h3>
<p>We also need to show our users what went wrong.</p>
<ol>
<li>The card-number input has a HTML 5 pattern attribute</li>
<li>Angular will use this to make the number control invalid</li>
<li>We need to get a reference to the control for the card-number and reveal the error message only when it&#39;s invalid</li>
<li>Use this to toggle the <code>error</code> class on the <code>&lt;div&gt;</code> surrounding the card-number input</li>
</ol>
<h3 id="handling-form-submission-">Handling form submission.</h3>
<p>Let&#39;s handle the submission of the form.</p>
<ol>
<li>Use the <code>ngSubmit</code> event and pass it to handled</li>
<li>Format the <code>form.value</code> as JSON, and store it on the component</li>
<li>Display the submitted data somewhere on the form</li>
<li>Woohoo! We built a credit-card form that isn&#39;t terrible</li>
</ol>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://angular.io/docs/ts/latest/cheatsheet.html">Cheatsheet</a></li>
</ul>
<h2 id="goal">Goal</h2>
<p><img src="forms.png" alt="Forms"></p>

    </body>
  